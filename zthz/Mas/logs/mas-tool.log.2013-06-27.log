[20130627 09:18:21 115 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server cache!
[20130627 09:18:21 233 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server sucess!
[20130627 09:18:21 233 INFO ] cn.zthz.actor.assemble.MasStarter - start DQueue
[20130627 09:18:21 240 INFO ] cn.zthz.tool.queue.DUQueue - start DUQueue
[20130627 09:18:21 242 INFO ] cn.zthz.actor.assemble.MasStarter - register messagor on user login
[20130627 09:18:21 243 INFO ] cn.zthz.actor.assemble.MasStarter - register login countor on user login
[20130627 09:18:21 244 INFO ] cn.zthz.actor.assemble.MasStarter - register all requirement pushor
[20130627 09:18:21 247 INFO ] cn.zthz.actor.assemble.MasStarter - register user cache updater
[20130627 09:18:21 248 INFO ] cn.zthz.actor.cache.user.UserCacheUpdater - register user update message
[20130627 09:18:21 249 INFO ] cn.zthz.actor.assemble.MasStarter - register solr cache updater
[20130627 09:18:21 278 INFO ] cn.zthz.actor.solr.SolrUpdater - register user update message
[20130627 09:18:21 279 INFO ] cn.zthz.actor.assemble.MasStarter - start daemon threads
[20130627 09:18:21 280 INFO ] cn.zthz.actor.daemon.DaemonEntry - start requirementExpirer daemon
[20130627 09:18:21 285 INFO ] cn.zthz.actor.solr.ReimportScheduler - start ReimportScheduler
[20130627 09:18:21 362 INFO ] cn.zthz.actor.assemble.MasStarter - init image server
[20130627 09:19:13 131 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server cache!
[20130627 09:19:13 171 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server sucess!
[20130627 09:19:13 171 INFO ] cn.zthz.actor.assemble.MasStarter - start DQueue
[20130627 09:19:13 174 INFO ] cn.zthz.tool.queue.DUQueue - start DUQueue
[20130627 09:19:13 176 INFO ] cn.zthz.actor.assemble.MasStarter - register messagor on user login
[20130627 09:19:13 178 INFO ] cn.zthz.actor.assemble.MasStarter - register login countor on user login
[20130627 09:19:13 179 INFO ] cn.zthz.actor.assemble.MasStarter - register all requirement pushor
[20130627 09:19:13 182 INFO ] cn.zthz.actor.assemble.MasStarter - register user cache updater
[20130627 09:19:13 182 INFO ] cn.zthz.actor.cache.user.UserCacheUpdater - register user update message
[20130627 09:19:13 183 INFO ] cn.zthz.actor.assemble.MasStarter - register solr cache updater
[20130627 09:19:13 205 INFO ] cn.zthz.actor.solr.SolrUpdater - register user update message
[20130627 09:19:13 207 INFO ] cn.zthz.actor.assemble.MasStarter - start daemon threads
[20130627 09:19:13 207 INFO ] cn.zthz.actor.daemon.DaemonEntry - start requirementExpirer daemon
[20130627 09:19:13 212 INFO ] cn.zthz.actor.solr.ReimportScheduler - start ReimportScheduler
[20130627 09:19:13 282 INFO ] cn.zthz.actor.assemble.MasStarter - init image server
[20130627 09:22:18 458 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  and ri.status=:status order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,30) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 09:22:18 468 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  and ri.status=? order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,30) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 09:22:18 490 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 22
[20130627 09:24:23 869 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f5f53be013f7fb70a62004b status:[0, 1] not consistent!
[20130627 09:24:55 892 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f5f53be013f7fb70a62004b
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:578)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:717)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 09:25:00 636 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f5f53be013f7fb70a62004b"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:759)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:578)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:717)
	... 19 more
[20130627 09:25:01 021 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 09:26:30 667 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:26:30 670 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f5f53be013f7fb70a62004b status:[0, 1] not consistent!
[20130627 09:26:32 987 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f5f53be013f7fb70a62004b
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 09:26:33 122 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f5f53be013f7fb70a62004b"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 09:26:33 283 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 09:26:52 132 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:29:17 656 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 09:29:26 336 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 09:29:26 384 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 09:29:26 524 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 09:29:26 525 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 09:29:26 525 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 09:29:26 525 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 09:29:26 525 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 09:29:26 534 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 09:29:26 552 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 09:29:26 560 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 09:29:26 561 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 09:29:26 561 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 09:29:26 561 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 09:29:26 561 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:29:26 562 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 09:29:26 562 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 09:29:26 562 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 09:29:26 562 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 09:29:26 563 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 09:29:26 563 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 09:29:26 563 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:29:26 563 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 09:29:26 563 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 09:29:26 563 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 09:29:26 563 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 09:29:26 563 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 09:29:26 574 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 01:31:40 GMT[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 09:29:26 575 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:29:26 576 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 01:31:40 GMT
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 09:29:26 576 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 09:29:26 579 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 09:29:26 581 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 09:29:26 581 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":6}}[\n]"
[20130627 09:29:26 581 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:29:26 581 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 09:29:26 581 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:29:26 581 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 09:29:26 582 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:50538<->192.168.0.151:80 closed
[20130627 09:29:26 582 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":6}}

[20130627 09:30:13 283 INFO ] cn.zthz.actor.message.RequirementPushor - send expire message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 09:30:13 300 DEBUG] cn.zthz.tool.message.RMessageService - insert into RMessage (rid, uid, message,rowId, t, createTime ,status ) values('402880173f5f53be013f7fb70a62004b','402880173f07abcf013f08a0f039002c','您的需求:432已经过期！','402880ff3f83408d013f83408db40000',16,'2013-06-27 09:30:13.3',1)
[20130627 09:30:13 333 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 09:30:13 556 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:13 574 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:13 924 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:13 930 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:14 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:14 377 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:14 595 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 12160823[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50540]]
[20130627 09:30:14 683 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 64703b1b[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50539]]
[20130627 09:30:14 779 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 20d3e3b1[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50541]]
[20130627 09:30:14 867 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:14 879 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:15 192 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 3edb3d3e[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50542]]
[20130627 09:30:15 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:15 378 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:15 866 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:15 878 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:16 294 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 69f51d05[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50544]]
[20130627 09:30:16 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:16 378 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:16 706 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 36b4eea5[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50545]]
[20130627 09:30:16 866 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:16 878 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:17 199 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: ffcab27[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50546]]
[20130627 09:30:17 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:17 377 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:17 865 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 09:30:17 877 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 09:30:18 217 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 2ad8880c[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50548]]
[20130627 09:30:18 371 DEBUG] javapns.notification.Payload - Adding alert [您的需求:432已经过期！]
[20130627 09:30:18 371 DEBUG] javapns.notification.Payload - Adding sound [default]
[20130627 09:30:18 372 DEBUG] javapns.notification.Payload - Adding custom Dictionary [t] = [16]
[20130627 09:30:18 372 DEBUG] javapns.notification.Payload - Adding custom Dictionary [mid] = [1431]
[20130627 09:30:18 374 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 09:30:18 376 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 09:30:18 376 DEBUG] javapns.notification.PushNotificationManager - Building Raw message from deviceToken and payload
[20130627 09:30:18 376 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 09:30:18 376 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 09:30:18 377 DEBUG] javapns.notification.PushNotificationManager - Built raw message ID 16777217 of total length 132
[20130627 09:30:18 377 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 09:30:18 377 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 09:30:18 377 DEBUG] javapns.notification.PushNotificationManager - Attempting to send notification: {"t":16,"aps":{"sound":"default","alert":"您的需求:432已经过期！"},"mid":1431}
[20130627 09:30:18 377 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 09:30:18 378 DEBUG] javapns.notification.PushNotificationManager -   to device: 5fc7cfc4103b2f8ce75d9b8f1b93e182ade4ba7fd6a49d356e3d55610fdd9831
[20130627 09:30:18 395 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 09:30:18 395 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 09:30:18 395 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 09:30:18 396 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 09:30:18 396 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 09:30:18 396 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:30:18 397 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 09:30:18 397 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 09:30:18 397 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 09:30:18 397 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 09:30:18 398 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 09:30:18 398 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 09:30:18 398 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:30:18 398 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 09:30:18 398 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 09:30:18 399 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 09:30:18 399 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 09:30:18 399 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 09:30:18 625 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 09:30:18 626 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 09:30:18 626 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 01:32:32 GMT[\r][\n]"
[20130627 09:30:18 626 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 09:30:18 626 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 09:30:18 626 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 09:30:18 627 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:30:18 627 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 09:30:18 627 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 09:30:18 627 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 09:30:18 627 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 01:32:32 GMT
[20130627 09:30:18 627 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 09:30:18 628 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 09:30:18 628 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 09:30:18 628 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 09:30:18 628 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 09:30:18 629 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 09:30:18 629 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:30:18 629 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 09:30:18 629 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:30:18 629 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 09:30:18 629 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 09:30:18 630 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 09:30:18 630 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 09:30:18 630 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 09:30:18 630 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 09:30:18 631 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:50549<->192.168.0.151:80 closed
[20130627 09:30:18 631 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 09:30:18 795 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 389d7a9d[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50543]]
[20130627 09:30:20 778 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 39cb71f4[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.35.166,port=2195,localport=50547]]
[20130627 09:30:22 698 DEBUG] javapns.notification.PushNotificationManager - Flushing
[20130627 09:30:22 698 DEBUG] javapns.notification.PushNotificationManager - At this point, the entire 132-bytes message has been streamed out successfully through the SSL connection
[20130627 09:30:22 698 DEBUG] javapns.notification.PushNotificationManager - Notification sent on first attempt
[20130627 09:30:39 119 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:30:39 121 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f5f53be013f7fb70a62004b status:[0, 1] not consistent!
[20130627 09:30:39 300 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f5f53be013f7fb70a62004b
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 09:30:39 401 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f5f53be013f7fb70a62004b"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 09:30:39 514 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 09:31:28 243 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:31:28 245 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 09:31:28 250 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 09:31:28 287 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 09:31:28 289 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 09:31:28 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 09:31:28 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 09:31:28 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 09:31:28 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 09:31:28 290 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 09:31:28 292 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 09:31:28 292 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 09:31:28 292 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 09:31:28 292 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 09:31:28 293 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 09:31:28 293 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 09:31:28 293 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:31:28 293 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 09:31:28 293 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 09:31:28 293 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 09:31:28 294 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 09:31:28 294 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 09:31:28 302 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 01:33:42 GMT[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:31:28 303 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 09:31:28 303 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 09:31:28 304 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 09:31:28 304 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 01:33:42 GMT
[20130627 09:31:28 304 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 09:31:28 304 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 09:31:28 304 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 09:31:28 304 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 09:31:28 304 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 09:31:28 304 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 09:31:28 304 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:31:28 305 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 09:31:28 305 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 09:31:28 305 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 09:31:28 306 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:50558<->192.168.0.151:80 closed
[20130627 09:31:28 306 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 09:37:36 951 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:37:36 953 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 09:37:36 960 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 09:37:36 990 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 09:37:36 992 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 09:37:36 992 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 09:37:36 992 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 09:37:36 993 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 09:37:36 993 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 09:37:36 993 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 09:37:36 996 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 09:37:36 996 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 09:37:36 997 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 09:37:36 997 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 09:37:36 997 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 09:37:36 997 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:37:36 997 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 09:37:36 998 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 09:37:36 999 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 09:37:36 999 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 09:37:36 999 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 09:37:36 999 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 09:37:36 999 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 09:37:37 009 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 09:37:37 009 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 09:37:37 009 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 01:39:51 GMT[\r][\n]"
[20130627 09:37:37 010 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 09:37:37 010 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 09:37:37 010 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 09:37:37 010 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:37:37 010 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 01:39:51 GMT
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 09:37:37 011 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 09:37:37 012 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 09:37:37 012 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 09:37:37 012 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 09:37:37 012 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:37:37 013 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 09:37:37 013 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 09:37:37 013 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 09:37:37 013 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 09:37:37 013 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 09:37:37 014 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 09:37:37 014 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 09:37:37 014 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 09:37:37 014 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:50573<->192.168.0.151:80 closed
[20130627 09:37:37 015 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 09:38:32 568 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 09:38:32 570 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f5f53be013f7fb70a62004b status:[0, 1] not consistent!
[20130627 09:38:33 809 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f5f53be013f7fb70a62004b
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 09:38:33 983 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f5f53be013f7fb70a62004b"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 09:38:34 044 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 13:08:54 894 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server cache!
[20130627 13:08:54 939 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server sucess!
[20130627 13:08:54 940 INFO ] cn.zthz.actor.assemble.MasStarter - start DQueue
[20130627 13:08:54 943 INFO ] cn.zthz.tool.queue.DUQueue - start DUQueue
[20130627 13:08:54 944 INFO ] cn.zthz.actor.assemble.MasStarter - register messagor on user login
[20130627 13:08:54 946 INFO ] cn.zthz.actor.assemble.MasStarter - register login countor on user login
[20130627 13:08:54 947 INFO ] cn.zthz.actor.assemble.MasStarter - register all requirement pushor
[20130627 13:08:54 950 INFO ] cn.zthz.actor.assemble.MasStarter - register user cache updater
[20130627 13:08:54 950 INFO ] cn.zthz.actor.cache.user.UserCacheUpdater - register user update message
[20130627 13:08:54 951 INFO ] cn.zthz.actor.assemble.MasStarter - register solr cache updater
[20130627 13:08:54 973 INFO ] cn.zthz.actor.solr.SolrUpdater - register user update message
[20130627 13:08:54 974 INFO ] cn.zthz.actor.assemble.MasStarter - start daemon threads
[20130627 13:08:54 974 INFO ] cn.zthz.actor.daemon.DaemonEntry - start requirementExpirer daemon
[20130627 13:08:54 978 INFO ] cn.zthz.actor.solr.ReimportScheduler - start ReimportScheduler
[20130627 13:08:55 043 INFO ] cn.zthz.actor.assemble.MasStarter - init image server
[20130627 13:14:13 488 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:14:13 502 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:14:13 545 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 43
[20130627 13:14:21 723 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:14:21 725 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:14:21 782 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 57
[20130627 13:16:07 743 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:16:07 744 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:16:07 781 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 37
[20130627 13:17:23 876 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:17:23 877 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:17:23 912 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 35
[20130627 13:17:29 728 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:17:29 730 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:17:30 026 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 295
[20130627 13:17:31 947 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f552f86013f558420b4000f' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 13:17:31 956 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f552f86013f558420b4000f status:[0, 1] not consistent!
[20130627 13:17:33 616 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f552f86013f558420b4000f
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 13:17:33 798 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f552f86013f558420b4000f"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 13:17:34 147 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 13:17:58 632 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f3c564a013f3c9d6d990014' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 13:17:58 656 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f3c564a013f3c9d6d990014 status:[0, 1] not consistent!
[20130627 13:17:58 952 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f3c564a013f3c9d6d990014
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 13:17:59 258 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f3c564a013f3c9d6d990014"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 13:17:59 507 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 13:19:10 248 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f3c0436b50083' and userId='402880173f07abcf013f08a0f039002c' and status in (0,1)
[20130627 13:19:10 250 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f27e5a9013f3c0436b50083 status:[0, 1] not consistent!
[20130627 13:19:10 345 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f27e5a9013f3c0436b50083
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 13:19:10 410 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f27e5a9013f3c0436b50083"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:762)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:581)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:720)
	... 19 more
[20130627 13:19:10 497 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 13:26:00 633 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server cache!
[20130627 13:26:00 675 INFO ] cn.zthz.actor.assemble.MasStarter - check redis server sucess!
[20130627 13:26:00 675 INFO ] cn.zthz.actor.assemble.MasStarter - start DQueue
[20130627 13:26:00 678 INFO ] cn.zthz.tool.queue.DUQueue - start DUQueue
[20130627 13:26:00 679 INFO ] cn.zthz.actor.assemble.MasStarter - register messagor on user login
[20130627 13:26:00 681 INFO ] cn.zthz.actor.assemble.MasStarter - register login countor on user login
[20130627 13:26:00 682 INFO ] cn.zthz.actor.assemble.MasStarter - register all requirement pushor
[20130627 13:26:00 685 INFO ] cn.zthz.actor.assemble.MasStarter - register user cache updater
[20130627 13:26:00 685 INFO ] cn.zthz.actor.cache.user.UserCacheUpdater - register user update message
[20130627 13:26:00 686 INFO ] cn.zthz.actor.assemble.MasStarter - register solr cache updater
[20130627 13:26:00 706 INFO ] cn.zthz.actor.solr.SolrUpdater - register user update message
[20130627 13:26:00 708 INFO ] cn.zthz.actor.assemble.MasStarter - start daemon threads
[20130627 13:26:00 708 INFO ] cn.zthz.actor.daemon.DaemonEntry - start requirementExpirer daemon
[20130627 13:26:00 712 INFO ] cn.zthz.actor.solr.ReimportScheduler - start ReimportScheduler
[20130627 13:26:00 778 INFO ] cn.zthz.actor.assemble.MasStarter - init image server
[20130627 13:26:05 557 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f3c0436b50083' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:26:05 561 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f27e5a9013f3c0436b50083' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:26:05 579 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f27e5a9013f3c0436b50083","price":555.00,"title":"舅舅","userId":"402880173f0e6534013f18175dff0057"}
[20130627 13:26:05 689 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:05 690 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:05 710 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 20
[20130627 13:26:05 785 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f27e5a9013f3c0436b50083 in solr
[20130627 13:26:05 870 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:26:05 871 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:26:05 871 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:26:05 871 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:26:05 871 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:26:05 879 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:26:05 905 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:26:05 913 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:26:05 913 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:26:05 913 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:26:05 914 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:26:05 914 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:05 914 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:26:05 915 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:05 916 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:26:05 916 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:26:05 916 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:26:05 916 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:26:05 916 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f27e5a9013f3c0436b50083"}}"
[20130627 13:26:06 031 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:26:06 034 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:26:06 034 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:28:20 GMT[\r][\n]"
[20130627 13:26:06 034 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:26:06 034 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:26:06 035 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:26:06 035 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:06 036 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:26:06 036 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:26:06 036 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:26:06 037 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:28:20 GMT
[20130627 13:26:06 037 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:26:06 037 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:26:06 037 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:26:06 042 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:26:06 046 DEBUG] org.apache.http.wire - << "2c[\r][\n]"
[20130627 13:26:06 047 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":111}}[\n]"
[20130627 13:26:06 047 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:06 047 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:26:06 047 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:06 047 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:26:06 048 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:26:06 048 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:26:06 048 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:26:06 048 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:26:06 048 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:26:06 049 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53515<->192.168.0.151:80 closed
[20130627 13:26:06 049 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":111}}

[20130627 13:26:12 337 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:12 338 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:12 365 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 26
[20130627 13:26:14 031 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f552f86013f558420b4000f' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:26:14 034 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f552f86013f558420b4000f' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:26:14 039 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f552f86013f558420b4000f","price":10000.00,"title":"超级管理员1","userId":"0"}
[20130627 13:26:14 120 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:14 122 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:14 124 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f552f86013f558420b4000f in solr
[20130627 13:26:14 127 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:26:14 127 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:26:14 127 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:26:14 128 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:26:14 128 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:26:14 128 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:26:14 148 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:26:14 148 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:26:14 148 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:26:14 149 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:26:14 149 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:26:14 149 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:14 150 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:26:14 150 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:26:14 150 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:26:14 151 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:26:14 151 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:26:14 151 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:26:14 151 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:14 151 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:26:14 151 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:26:14 152 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:26:14 152 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:26:14 152 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f552f86013f558420b4000f"}}"
[20130627 13:26:14 155 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 33
[20130627 13:26:14 249 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:28:29 GMT[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:14 250 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:26:14 250 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:26:14 250 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:26:14 250 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:28:29 GMT
[20130627 13:26:14 251 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:26:14 251 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:26:14 251 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:26:14 251 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:26:14 251 DEBUG] org.apache.http.wire - << "2b[\r][\n]"
[20130627 13:26:14 251 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":91}}[\n]"
[20130627 13:26:14 251 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:14 251 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:26:14 251 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:14 251 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:26:14 251 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:26:14 252 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:26:14 252 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:26:14 252 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:26:14 252 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:26:14 252 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53521<->192.168.0.151:80 closed
[20130627 13:26:14 252 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":91}}

[20130627 13:26:24 314 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:24 316 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:24 346 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 30
[20130627 13:26:26 364 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f3c564a013f3c9d6d990014' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:26:26 412 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f3c564a013f3c9d6d990014' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:26:26 432 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f3c564a013f3c9d6d990014","price":88.00,"title":"1","userId":"402880173f0e6534013f18175dff0057"}
[20130627 13:26:26 597 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:26 599 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:26 634 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 35
[20130627 13:26:26 672 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f3c564a013f3c9d6d990014 in solr
[20130627 13:26:26 674 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:26:26 675 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:26:26 675 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:26:26 675 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:26:26 675 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:26:26 675 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:26:26 691 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:26:26 691 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:26:26 691 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:26:26 691 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:26:26 692 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:26:26 692 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:26 692 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:26:26 692 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:26:26 692 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:26:26 692 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:26:26 693 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:26:26 693 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:26:26 693 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:26:26 693 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:26:26 693 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:26:26 693 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:26:26 694 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:26:26 694 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f3c564a013f3c9d6d990014"}}"
[20130627 13:26:26 884 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:26:26 884 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:28:41 GMT[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:26 885 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:28:41 GMT
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:26:26 885 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:26:26 886 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:26:26 886 DEBUG] org.apache.http.wire - << "2b[\r][\n]"
[20130627 13:26:26 886 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":90}}[\n]"
[20130627 13:26:26 886 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:26 886 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:26:26 886 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:26:26 886 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:26:26 886 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:26:26 886 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:26:26 886 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:26:26 887 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:26:26 887 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:26:26 887 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53527<->192.168.0.151:80 closed
[20130627 13:26:26 887 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":90}}

[20130627 13:26:52 557 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:52 559 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:26:52 601 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 42
[20130627 13:27:02 568 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f3c564a013f3c9c31d00012' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:02 573 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f3c564a013f3c9c31d00012' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:02 589 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f3c564a013f3c9c31d00012","price":88.00,"title":"vgf","userId":"402880173f0e6534013f18175dff0057"}
[20130627 13:27:02 633 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f3c564a013f3c9c31d00012 in solr
[20130627 13:27:02 635 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:02 636 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:02 636 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:02 636 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:02 636 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:02 637 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:02 640 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:02 640 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:02 640 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:02 641 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:02 641 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:02 641 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:02 641 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:02 641 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:02 642 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:02 642 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:02 642 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:02 642 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:02 642 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:02 642 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:02 642 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:02 643 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:02 643 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:02 643 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f3c564a013f3c9c31d00012"}}"
[20130627 13:27:02 669 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:02 671 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:02 697 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 26
[20130627 13:27:02 719 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:02 720 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:02 721 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:02 749 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:02 749 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:29:17 GMT[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:02 750 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:29:17 GMT
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:02 751 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:02 752 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:02 752 DEBUG] org.apache.http.wire - << "2c[\r][\n]"
[20130627 13:27:02 752 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":100}}[\n]"
[20130627 13:27:02 752 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:02 752 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:02 752 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:02 753 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:02 754 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53535<->192.168.0.151:80 closed
[20130627 13:27:02 754 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":100}}

[20130627 13:27:04 504 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:04 505 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:04 529 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 23
[20130627 13:27:10 203 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f3b747fd40068' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:10 206 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f27e5a9013f3b747fd40068' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:10 213 INFO ] cn.zthz.tool.account.AccountService - pay back for requirement:402880173f27e5a9013f3b747fd40068
[20130627 13:27:10 213 DEBUG] cn.zthz.tool.account.AccountService - select money, sourceAccountId, targetAccountId, status from Prepay where requirementId='402880173f27e5a9013f3b747fd40068'
[20130627 13:27:10 218 DEBUG] cn.zthz.tool.account.AccountService - update Account set balance=9987.00 where id=126
[20130627 13:27:10 220 DEBUG] cn.zthz.tool.account.AccountService - update Prepay set status=2 where requirementId='402880173f27e5a9013f3b747fd40068'
[20130627 13:27:10 222 DEBUG] cn.zthz.tool.account.AccountService - insert into TransactionHistory (sourceAccountId,targetAccountId,money,type,action,description,createTime) values(126,126,1.00,1,4,'用户退款',FROM_UNIXTIME(1372310830))
[20130627 13:27:10 225 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":true,"id":"402880173f27e5a9013f3b747fd40068","price":1.00,"title":"根据耿","userId":"402880173f07abcf013f08a0f97f002d"}
[20130627 13:27:10 271 DEBUG] cn.zthz.tool.message.RMessageService - insert into RMessage (rid, uid, message,rowId, t, createTime ,status ) values('402880173f27e5a9013f3b747fd40068','402880173f07abcf013f08a0f97f002d','您已关闭需求：根据耿,已成功退款：1.00元','402880ff3f84197c013f84197cbf0000',17,'2013-06-27 13:27:10.271',1)
[20130627 13:27:10 292 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:10 293 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:10 319 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 26
[20130627 13:27:10 434 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:10 451 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:10 589 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:10 861 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:10 873 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:11 355 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:11 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:11 525 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 15e1d51a[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53539]]
[20130627 13:27:11 525 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 7f378496[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53540]]
[20130627 13:27:11 625 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: a7e5bc1[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53541]]
[20130627 13:27:11 855 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:11 866 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:11 981 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:11 982 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:12 013 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 31
[20130627 13:27:12 134 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 9757b59[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53542]]
[20130627 13:27:12 354 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:12 365 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:12 628 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 10fa5c30[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53544]]
[20130627 13:27:12 865 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:12 876 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:13 143 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 201ce18c[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53546]]
[20130627 13:27:13 355 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:13 366 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:13 616 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 5e06130f[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53547]]
[20130627 13:27:13 855 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:13 865 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:14 121 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 669e182c[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53548]]
[20130627 13:27:14 355 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:14 365 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:14 624 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: 7d3ecf7a[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53549]]
[20130627 13:27:14 855 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocketFactory
[20130627 13:27:14 865 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:27:15 128 DEBUG] javapns.notification.PushNotificationManager - Initialized Connection to Host: [gateway.push.apple.com] Port: [2195]: cbb5ec0[SSL_NULL_WITH_NULL_NULL: Socket[addr=gateway.push.apple.com/17.149.36.230,port=2195,localport=53550]]
[20130627 13:27:15 369 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.useragent = Jakarta Commons-HttpClient/3.1
[20130627 13:27:15 370 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.protocol.version = HTTP/1.1
[20130627 13:27:15 371 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.connection-manager.class = class org.apache.commons.httpclient.SimpleHttpConnectionManager
[20130627 13:27:15 372 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.protocol.cookie-policy = default
[20130627 13:27:15 372 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.protocol.element-charset = US-ASCII
[20130627 13:27:15 372 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.protocol.content-charset = ISO-8859-1
[20130627 13:27:15 373 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.method.retry-handler = org.apache.commons.httpclient.DefaultHttpMethodRetryHandler@78d03bab
[20130627 13:27:15 374 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.dateparser.patterns = [EEE, dd MMM yyyy HH:mm:ss zzz, EEEE, dd-MMM-yy HH:mm:ss zzz, EEE MMM d HH:mm:ss yyyy, EEE, dd-MMM-yyyy HH:mm:ss z, EEE, dd-MMM-yyyy HH-mm-ss z, EEE, dd MMM yy HH:mm:ss z, EEE dd-MMM-yyyy HH:mm:ss z, EEE dd MMM yyyy HH:mm:ss z, EEE dd-MMM-yyyy HH-mm-ss z, EEE dd-MMM-yy HH:mm:ss z, EEE dd MMM yy HH:mm:ss z, EEE,dd-MMM-yy HH:mm:ss z, EEE,dd-MMM-yyyy HH:mm:ss z, EEE, dd-MM-yyyy HH:mm:ss z]
[20130627 13:27:15 499 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.connection.timeout = 60000
[20130627 13:27:15 501 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.connection-manager.max-per-host = {HostConfiguration[]=1200}
[20130627 13:27:15 603 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:15 604 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.clearRequestBody()
[20130627 13:27:15 604 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.clearRequestBody()
[20130627 13:27:15 604 DEBUG] org.apache.commons.httpclient.HttpClient - Java version: 1.7.0_11
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - Java vendor: Oracle Corporation
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - Java class path: D:\Eclipse\workspace\Mas\target\classes;C:\Users\samul\.m2\repository\redis\clients\jedis\2.0.0\jedis-2.0.0.jar;C:\Users\samul\.m2\repository\org\apache\lucene\lucene-core\3.6.1\lucene-core-3.6.1.jar;C:\Users\samul\.m2\repository\com\alibaba\fastjson\1.1.23\fastjson-1.1.23.jar;C:\Users\samul\.m2\repository\commons-lang\commons-lang\2.6\commons-lang-2.6.jar;C:\Users\samul\.m2\repository\commons-io\commons-io\2.3\commons-io-2.3.jar;C:\Users\samul\.m2\repository\commons-pool\commons-pool\1.6\commons-pool-1.6.jar;C:\Users\samul\.m2\repository\commons-httpclient\commons-httpclient\3.1\commons-httpclient-3.1.jar;C:\Users\samul\.m2\repository\commons-logging\commons-logging\1.0.4\commons-logging-1.0.4.jar;C:\Users\samul\.m2\repository\commons-codec\commons-codec\1.2\commons-codec-1.2.jar;C:\Users\samul\.m2\repository\org\apache\httpcomponents\httpclient\4.2.2\httpclient-4.2.2.jar;C:\Users\samul\.m2\repository\org\apache\httpcomponents\httpcore\4.2.2\httpcore-4.2.2.jar;C:\Users\samul\.m2\repository\commons-fileupload\commons-fileupload\1.2.2\commons-fileupload-1.2.2.jar;C:\Users\samul\.m2\repository\cn\jpush\jpush-api\0.0.1\jpush-api-0.0.1.jar;C:\Users\samul\.m2\repository\com\google\code\gson\gson\2.2.2\gson-2.2.2.jar;C:\Users\samul\.m2\repository\org\quartz-scheduler\quartz\2.1.6\quartz-2.1.6.jar;C:\Users\samul\.m2\repository\c3p0\c3p0\0.9.1.1\c3p0-0.9.1.1.jar;C:\Users\samul\.m2\repository\org\slf4j\slf4j-api\1.6.1\slf4j-api-1.6.1.jar;C:\Users\samul\.m2\repository\org\apache\solr\solr-solrj\4.1.0\solr-solrj-4.1.0.jar;C:\Users\samul\.m2\repository\org\apache\zookeeper\zookeeper\3.4.5\zookeeper-3.4.5.jar;C:\Users\samul\.m2\repository\org\apache\httpcomponents\httpmime\4.1.3\httpmime-4.1.3.jar;C:\Users\samul\.m2\repository\org\codehaus\woodstox\wstx-asl\3.2.7\wstx-asl-3.2.7.jar;C:\Users\samul\.m2\repository\mysql\mysql-connector-java\5.1.20\mysql-connector-java-5.1.20.jar;C:\Users\samul\.m2\repository\com\jolbox\bonecp\0.7.1.RELEASE\bonecp-0.7.1.RELEASE.jar;C:\Users\samul\.m2\repository\com\google\guava\guava\r08\guava-r08.jar;C:\Users\samul\.m2\repository\org\bouncycastle\bcprov-jdk16\1.46\bcprov-jdk16-1.46.jar;C:\Users\samul\.m2\repository\org\pns\JavaPNS-2.2\2.2\JavaPNS-2.2-2.2.jar;D:\Eclipse\workspace\jer\target\classes;C:\Users\samul\.m2\repository\log4j\log4j\1.2.16\log4j-1.2.16.jar;C:\Users\samul\.m2\repository\org\eclipse\jetty\jetty-server\8.1.0.RC5\jetty-server-8.1.0.RC5.jar;C:\Users\samul\.m2\repository\org\mortbay\jetty\servlet-api\3.0.20100224\servlet-api-3.0.20100224.jar;C:\Users\samul\.m2\repository\org\eclipse\jetty\jetty-continuation\8.1.0.RC5\jetty-continuation-8.1.0.RC5.jar;C:\Users\samul\.m2\repository\org\eclipse\jetty\jetty-http\8.1.0.RC5\jetty-http-8.1.0.RC5.jar;C:\Users\samul\.m2\repository\org\eclipse\jetty\jetty-io\8.1.0.RC5\jetty-io-8.1.0.RC5.jar;C:\Users\samul\.m2\repository\org\eclipse\jetty\jetty-util\8.1.0.RC5\jetty-util-8.1.0.RC5.jar;C:\Users\samul\.m2\repository\com\googlecode\xmemcached\xmemcached\1.3.6\xmemcached-1.3.6.jar;C:\Users\samul\.m2\repository\com\esotericsoftware\reflectasm\reflectasm\1.07\reflectasm-1.07.jar;C:\Users\samul\.m2\repository\org\ow2\asm\asm\4.0\asm-4.0.jar;C:\Users\samul\.m2\repository\net\coobird\thumbnailator\0.4.3\thumbnailator-0.4.3.jar;C:\Users\samul\.m2\repository\javax\mail\mail\1.4.7\mail-1.4.7.jar;C:\Users\samul\.m2\repository\javax\activation\activation\1.1\activation-1.1.jar;C:\Users\samul\.m2\repository\org\freemarker\freemarker\2.3.19\freemarker-2.3.19.jar;C:\Users\samul\.m2\repository\gexin\gexin-rp-sdk-base\2.0.0.3\gexin-rp-sdk-base-2.0.0.3.jar;C:\Users\samul\.m2\repository\gexin\gexin-rp-sdk-http\2.0.0.3\gexin-rp-sdk-http-2.0.0.3.jar;C:\Users\samul\.m2\repository\gexin\gexin-rp-sdk-template\2.0.0.3\gexin-rp-sdk-template-2.0.0.3.jar;C:\Users\samul\.m2\repository\gexin\jackson-all\1.8.5\jackson-all-1.8.5.jar;C:\Users\samul\.m2\repository\gexin\protobuf-java\2.4.1\protobuf-java-2.4.1.jar
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - Operating system name: Windows 7
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - Operating system architecture: amd64
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - Operating system version: 6.1
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SUN 1.7: SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS keystore; PKIX CertPathValidator; PKIX CertPathBuilder; LDAP, Collection CertStores, JavaPolicy Policy; JavaLoginConfig Configuration)
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunRsaSign 1.7: Sun RSA signature provider
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunEC 1.7: Sun Elliptic Curve provider (EC, ECDSA, ECDH)
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunJSSE 1.7: Sun JSSE provider(PKCS12, SunX509 key/trust factories, SSLv3, TLSv1)
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunJCE 1.7: SunJCE Provider (implements RSA, DES, Triple DES, AES, Blowfish, ARCFOUR, RC2, PBE, Diffie-Hellman, HMAC)
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunJGSS 1.7: Sun (Kerberos v5, SPNEGO)
[20130627 13:27:15 605 DEBUG] org.apache.commons.httpclient.HttpClient - SunSASL 1.7: Sun SASL provider(implements client mechanisms for: DIGEST-MD5, GSSAPI, EXTERNAL, PLAIN, CRAM-MD5, NTLM; server mechanisms for: DIGEST-MD5, GSSAPI, CRAM-MD5, NTLM)
[20130627 13:27:15 606 DEBUG] org.apache.commons.httpclient.HttpClient - XMLDSig 1.0: XMLDSig (DOM XMLSignatureFactory; DOM KeyInfoFactory)
[20130627 13:27:15 606 DEBUG] org.apache.commons.httpclient.HttpClient - SunPCSC 1.7: Sun PC/SC provider
[20130627 13:27:15 606 DEBUG] org.apache.commons.httpclient.HttpClient - SunMSCAPI 1.7: Sun's Microsoft Crypto API provider
[20130627 13:27:15 606 DEBUG] org.apache.commons.httpclient.HttpClient - BC 1.46: BouncyCastle Security Provider v1.46
[20130627 13:27:15 607 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HttpMethod)
[20130627 13:27:15 607 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
[20130627 13:27:15 610 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.getConnectionWithTimeout(HostConfiguration, long)
[20130627 13:27:15 610 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - HttpConnectionManager.getConnection:  config = HostConfiguration[host=http://sdk.open.api.igexin.com], timeout = 0
[20130627 13:27:15 610 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:15 611 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:15 611 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Allocating new connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:15 613 DEBUG] org.apache.commons.httpclient.HttpMethodDirector - Attempt number 1 to process request
[20130627 13:27:15 613 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.open()
[20130627 13:27:15 613 DEBUG] org.apache.commons.httpclient.HttpConnection - Open connection to sdk.open.api.igexin.com:80
[20130627 13:27:18 715 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.execute(HttpState, HttpConnection)
[20130627 13:27:18 716 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
[20130627 13:27:18 716 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
[20130627 13:27:18 716 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.generateRequestLine(HttpConnection, String, String, String, String)
[20130627 13:27:18 718 DEBUG] httpclient.wire.header - >> "POST /apiex.htm HTTP/1.1[\r][\n]"
[20130627 13:27:18 718 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 718 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 718 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 718 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
[20130627 13:27:18 718 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.methods.ExpectContinueMethod - enter ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Adding Host request header
[20130627 13:27:18 719 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.HttpState - enter HttpState.getCookies()
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.cookie.CookieSpec - enter CookieSpecBase.match(String, int, String, boolean, Cookie[])
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addContentLengthRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 744 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:18 745 DEBUG] httpclient.wire.header - >> "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 745 DEBUG] httpclient.wire.header - >> "User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]"
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 745 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 746 DEBUG] httpclient.wire.header - >> "Host: sdk.open.api.igexin.com[\r][\n]"
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 746 DEBUG] httpclient.wire.header - >> "Content-Length: 543[\r][\n]"
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.writeLine()
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 746 DEBUG] httpclient.wire.header - >> "[\r][\n]"
[20130627 13:27:18 746 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getRequestOutputStream()
[20130627 13:27:18 747 DEBUG] httpclient.wire.content - >> "{"appId":"o94ymOAtzV74lbC6I3V6a","isOffline":true,"appkey":"RQA0RdthPhA743m0n0Y6Q5","action":"pushMessageToSingleAction","pushType":"TransmissionMsg","offlineExpireTime":0,"type":2,"clientId":"3fa666e3a896b924d73affa88ae27930","transmissionContent":"{\"alert\":\"[0xe6][0x82][0xa8][0xe5][0xb7][0xb2][0xe5][0x85][0xb3][0xe9][0x97][0xad][0xe9][0x9c][0x80][0xe6][0xb1][0x82][0xef][0xbc][0x9a][0xe6][0xa0][0xb9][0xe6][0x8d][0xae][0xe8][0x80][0xbf],[0xe5][0xb7][0xb2][0xe6][0x88][0x90][0xe5][0x8a][0x9f][0xe9][0x80][0x80][0xe6][0xac][0xbe][0xef][0xbc][0x9a]1.00[0xe5][0x85][0x83]\",\"attach\":{\"mid\":1432,\"t\":17}}","clientData":"CgASC3B1c2htZXNzYWdlGgAiFlJRQTBSZHRoUGhBNzQzbTBuMFk2UTUqFW85NHltT0F0elY3NGxi\r\nQzZJM1Y2YTIAOggKABIAGgAiAEIHCAEQABiuTkIZCK5OEAMYZOIIAOoIBgoAEgAaAPAIAPgIZEIE\r\nCGQQBw=="}"
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - Request body sent
[20130627 13:27:18 747 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.flushRequestOutputStream()
[20130627 13:27:18 748 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
[20130627 13:27:18 748 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
[20130627 13:27:18 748 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.readLine()
[20130627 13:27:18 748 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 749 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 794 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:18 795 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:18 795 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
[20130627 13:27:18 795 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HeaderParser.parseHeaders(InputStream, String)
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 796 DEBUG] httpclient.wire.header - << "Server: nginx/1.0.5[\r][\n]"
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 796 DEBUG] httpclient.wire.header - << "Date: Thu, 27 Jun 2013 05:27:22 GMT[\r][\n]"
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 796 DEBUG] httpclient.wire.header - << "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 796 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 797 DEBUG] httpclient.wire.header - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 797 DEBUG] httpclient.wire.header - << "Content-Language: en-US[\r][\n]"
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 797 DEBUG] httpclient.wire.header - << "Content-Length: 23[\r][\n]"
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 797 DEBUG] httpclient.wire.header - << "[\r][\n]"
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
[20130627 13:27:18 797 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processCookieHeaders(Header[], HttpState, HttpConnection)
[20130627 13:27:18 798 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
[20130627 13:27:18 798 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpConnection)
[20130627 13:27:18 798 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:18 798 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.canResponseHaveBody(int)
[20130627 13:27:18 799 DEBUG] httpclient.wire.content - << "{"result":"sign_error"}"
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Should NOT close connection in response to directive: keep-alive
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.isResponseAvailable()
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.releaseConnection()
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.HttpConnection - Releasing connection back to connection manager.
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.releaseConnection(HttpConnection)
[20130627 13:27:18 799 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Freeing connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:18 800 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 800 DEBUG] org.apache.commons.httpclient.util.IdleConnectionHandler - Adding connection at: 1372310838800
[20130627 13:27:18 800 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Notifying no-one, there are no waiting threads
[20130627 13:27:18 868 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:18 868 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.clearRequestBody()
[20130627 13:27:18 868 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.clearRequestBody()
[20130627 13:27:18 868 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HttpMethod)
[20130627 13:27:18 868 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
[20130627 13:27:18 869 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.getConnectionWithTimeout(HostConfiguration, long)
[20130627 13:27:18 869 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - HttpConnectionManager.getConnection:  config = HostConfiguration[host=http://sdk.open.api.igexin.com], timeout = 0
[20130627 13:27:18 869 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 869 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 869 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Getting free connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:18 870 DEBUG] org.apache.commons.httpclient.HttpMethodDirector - Attempt number 1 to process request
[20130627 13:27:18 872 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.execute(HttpState, HttpConnection)
[20130627 13:27:18 872 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
[20130627 13:27:18 872 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
[20130627 13:27:18 872 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.generateRequestLine(HttpConnection, String, String, String, String)
[20130627 13:27:18 872 DEBUG] httpclient.wire.header - >> "POST /apiex.htm HTTP/1.1[\r][\n]"
[20130627 13:27:18 872 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.methods.ExpectContinueMethod - enter ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 873 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Adding Host request header
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.HttpState - enter HttpState.getCookies()
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.cookie.CookieSpec - enter CookieSpecBase.match(String, int, String, boolean, Cookie[])
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
[20130627 13:27:18 874 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addContentLengthRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:18 875 DEBUG] httpclient.wire.header - >> "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 875 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 876 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 876 DEBUG] httpclient.wire.header - >> "User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]"
[20130627 13:27:18 876 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 876 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 876 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 876 DEBUG] httpclient.wire.header - >> "Host: sdk.open.api.igexin.com[\r][\n]"
[20130627 13:27:18 876 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 877 DEBUG] httpclient.wire.header - >> "Content-Length: 122[\r][\n]"
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 877 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.writeLine()
[20130627 13:27:18 878 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 878 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 878 DEBUG] httpclient.wire.header - >> "[\r][\n]"
[20130627 13:27:18 878 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
[20130627 13:27:18 878 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 878 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 879 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 879 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 879 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 879 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getRequestOutputStream()
[20130627 13:27:18 879 DEBUG] httpclient.wire.content - >> "{"sign":"c041d11d71a7810bc62b55b17a892f7c","timeStamp":1372310838814,"appkey":"RQA0RdthPhA743m0n0Y6Q5","action":"connect"}"
[20130627 13:27:18 879 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - Request body sent
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.flushRequestOutputStream()
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.readLine()
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 880 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 917 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:18 917 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpParser - enter HeaderParser.parseHeaders(InputStream, String)
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 917 DEBUG] httpclient.wire.header - << "Server: nginx/1.0.5[\r][\n]"
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 917 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 917 DEBUG] httpclient.wire.header - << "Date: Thu, 27 Jun 2013 05:27:22 GMT[\r][\n]"
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 918 DEBUG] httpclient.wire.header - << "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 918 DEBUG] httpclient.wire.header - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 918 DEBUG] httpclient.wire.header - << "Content-Language: en-US[\r][\n]"
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 918 DEBUG] httpclient.wire.header - << "Content-Length: 20[\r][\n]"
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 918 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:18 918 DEBUG] httpclient.wire.header - << "[\r][\n]"
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processCookieHeaders(Header[], HttpState, HttpConnection)
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpConnection)
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.canResponseHaveBody(int)
[20130627 13:27:18 919 DEBUG] httpclient.wire.content - << "{"result":"success"}"
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Should NOT close connection in response to directive: keep-alive
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.isResponseAvailable()
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.releaseConnection()
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.HttpConnection - Releasing connection back to connection manager.
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.releaseConnection(HttpConnection)
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Freeing connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:18 919 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 920 DEBUG] org.apache.commons.httpclient.util.IdleConnectionHandler - Adding connection at: 1372310838920
[20130627 13:27:18 920 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Notifying no-one, there are no waiting threads
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.clearRequestBody()
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.clearRequestBody()
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HttpMethod)
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.getConnectionWithTimeout(HostConfiguration, long)
[20130627 13:27:18 921 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - HttpConnectionManager.getConnection:  config = HostConfiguration[host=http://sdk.open.api.igexin.com], timeout = 0
[20130627 13:27:18 922 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 922 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:18 922 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Getting free connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:18 922 DEBUG] org.apache.commons.httpclient.HttpMethodDirector - Attempt number 1 to process request
[20130627 13:27:18 923 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.execute(HttpState, HttpConnection)
[20130627 13:27:18 923 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
[20130627 13:27:18 923 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
[20130627 13:27:18 923 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.generateRequestLine(HttpConnection, String, String, String, String)
[20130627 13:27:18 923 DEBUG] httpclient.wire.header - >> "POST /apiex.htm HTTP/1.1[\r][\n]"
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.methods.ExpectContinueMethod - enter ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Adding Host request header
[20130627 13:27:18 924 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpState - enter HttpState.getCookies()
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.cookie.CookieSpec - enter CookieSpecBase.match(String, int, String, boolean, Cookie[])
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addContentLengthRequestHeader(HttpState, HttpConnection)
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:27:18 925 DEBUG] httpclient.wire.header - >> "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 925 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 925 DEBUG] httpclient.wire.header - >> "User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]"
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 926 DEBUG] httpclient.wire.header - >> "Host: sdk.open.api.igexin.com[\r][\n]"
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 926 DEBUG] httpclient.wire.header - >> "Content-Length: 543[\r][\n]"
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.writeLine()
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:27:18 926 DEBUG] httpclient.wire.header - >> "[\r][\n]"
[20130627 13:27:18 926 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getRequestOutputStream()
[20130627 13:27:18 927 DEBUG] httpclient.wire.content - >> "{"appId":"o94ymOAtzV74lbC6I3V6a","isOffline":true,"appkey":"RQA0RdthPhA743m0n0Y6Q5","action":"pushMessageToSingleAction","pushType":"TransmissionMsg","offlineExpireTime":0,"type":2,"clientId":"3fa666e3a896b924d73affa88ae27930","transmissionContent":"{\"alert\":\"[0xe6][0x82][0xa8][0xe5][0xb7][0xb2][0xe5][0x85][0xb3][0xe9][0x97][0xad][0xe9][0x9c][0x80][0xe6][0xb1][0x82][0xef][0xbc][0x9a][0xe6][0xa0][0xb9][0xe6][0x8d][0xae][0xe8][0x80][0xbf],[0xe5][0xb7][0xb2][0xe6][0x88][0x90][0xe5][0x8a][0x9f][0xe9][0x80][0x80][0xe6][0xac][0xbe][0xef][0xbc][0x9a]1.00[0xe5][0x85][0x83]\",\"attach\":{\"mid\":1432,\"t\":17}}","clientData":"CgASC3B1c2htZXNzYWdlGgAiFlJRQTBSZHRoUGhBNzQzbTBuMFk2UTUqFW85NHltT0F0elY3NGxi\r\nQzZJM1Y2YTIAOggKABIAGgAiAEIHCAEQABiuTkIZCK5OEAMYZOIIAOoIBgoAEgAaAPAIAPgIZEIE\r\nCGQQBw=="}"
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - Request body sent
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.flushRequestOutputStream()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.readLine()
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:18 927 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 035 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:19 036 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpParser - enter HeaderParser.parseHeaders(InputStream, String)
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 036 DEBUG] httpclient.wire.header - << "Server: nginx/1.0.5[\r][\n]"
[20130627 13:27:19 036 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 037 DEBUG] httpclient.wire.header - << "Date: Thu, 27 Jun 2013 05:27:22 GMT[\r][\n]"
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 037 DEBUG] httpclient.wire.header - << "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 037 DEBUG] httpclient.wire.header - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:19 037 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 038 DEBUG] httpclient.wire.header - << "Content-Language: en-US[\r][\n]"
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 038 DEBUG] httpclient.wire.header - << "Content-Length: 87[\r][\n]"
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:27:19 038 DEBUG] httpclient.wire.header - << "[\r][\n]"
[20130627 13:27:19 038 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processCookieHeaders(Header[], HttpState, HttpConnection)
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpConnection)
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.canResponseHaveBody(int)
[20130627 13:27:19 039 DEBUG] httpclient.wire.content - << "{"taskId":"OSS-0627_YHXiX45btmA4Vxnzdd5nz5","result":"ok","status":"successed_offline"}"
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Should NOT close connection in response to directive: keep-alive
[20130627 13:27:19 039 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.isResponseAvailable()
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.releaseConnection()
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.HttpConnection - Releasing connection back to connection manager.
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.releaseConnection(HttpConnection)
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Freeing connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.util.IdleConnectionHandler - Adding connection at: 1372310839040
[20130627 13:27:19 040 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Notifying no-one, there are no waiting threads
[20130627 13:27:19 041 INFO ] cn.zthz.tool.push.AndroidJPush - {taskId=OSS-0627_YHXiX45btmA4Vxnzdd5nz5, result=ok, status=successed_offline}
[20130627 13:27:19 041 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f27e5a9013f3b747fd40068 in solr
[20130627 13:27:19 042 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:19 042 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:19 043 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:19 043 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:19 043 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:19 043 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:19 074 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:19 074 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:19 075 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:19 075 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:19 075 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:19 075 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:19 075 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:19 076 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:19 076 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:19 076 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:19 076 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:19 076 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:19 076 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f27e5a9013f3b747fd40068"}}"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:29:34 GMT[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:19 188 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:29:34 GMT
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:19 189 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:19 189 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:19 189 DEBUG] org.apache.http.wire - << "2c[\r][\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":102}}[\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:19 189 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:19 189 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:19 189 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:19 190 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:19 190 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:19 190 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:19 190 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53552<->192.168.0.151:80 closed
[20130627 13:27:19 190 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":102}}

[20130627 13:27:21 741 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:21 743 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:21 770 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 27
[20130627 13:27:27 128 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:27 130 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:27 167 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 37
[20130627 13:27:27 944 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:27 945 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:27 964 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 18
[20130627 13:27:33 189 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:33 190 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:33 234 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 44
[20130627 13:27:40 380 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f3b4819e90051' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:40 383 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f27e5a9013f3b4819e90051' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:40 402 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f27e5a9013f3b4819e90051","price":1.00,"title":"测试充值","userId":"402880173f07abcf013f08a0f97f002d"}
[20130627 13:27:40 566 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f27e5a9013f3b4819e90051 in solr
[20130627 13:27:40 568 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:40 568 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:40 569 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:40 569 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:40 569 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:40 569 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:40 575 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:40 575 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:40 575 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:40 575 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:40 576 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:40 576 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:40 576 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:40 576 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:40 576 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:40 577 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:40 577 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:40 578 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:40 578 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:40 578 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:40 578 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f27e5a9013f3b4819e90051"}}"
[20130627 13:27:40 596 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 20
[20130627 13:27:40 670 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:29:55 GMT[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:40 671 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:29:55 GMT
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:40 671 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:40 671 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:40 672 DEBUG] org.apache.http.wire - << "2b[\r][\n]"
[20130627 13:27:40 672 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":87}}[\n]"
[20130627 13:27:40 672 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:40 672 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:40 672 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:40 672 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53568<->192.168.0.151:80 closed
[20130627 13:27:40 672 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":87}}

[20130627 13:27:45 702 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:45 703 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:45 731 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 28
[20130627 13:27:53 012 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f3b463116004e' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:53 015 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f27e5a9013f3b463116004e' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:53 024 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f27e5a9013f3b463116004e","price":223.00,"title":"测试","userId":"402880173f0e6534013f18175dff0057"}
[20130627 13:27:53 058 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f27e5a9013f3b463116004e in solr
[20130627 13:27:53 060 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:53 060 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:53 060 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:53 060 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:53 060 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:53 061 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:53 063 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:53 063 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:53 063 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:53 063 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:53 063 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:53 063 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:53 063 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:53 064 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:53 064 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:53 064 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:53 064 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:53 065 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:53 065 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f27e5a9013f3b463116004e"}}"
[20130627 13:27:53 073 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:53 073 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:30:08 GMT[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:53 074 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:53 074 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:53 074 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:53 075 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:30:08 GMT
[20130627 13:27:53 075 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:53 075 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:53 075 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:53 075 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:53 075 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:27:53 075 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:27:53 075 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:53 076 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:53 076 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:53 076 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:53 077 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53573<->192.168.0.151:80 closed
[20130627 13:27:53 077 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 13:27:53 099 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:53 099 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:53 116 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 17
[20130627 13:27:55 501 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f649f6f51002f' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:55 504 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f649f6f51002f' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:55 509 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f649f6f51002f","price":45.00,"title":"45454","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 13:27:55 537 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:55 538 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:55 559 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f649f6f51002f in solr
[20130627 13:27:55 561 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:55 561 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:55 562 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:55 562 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:55 562 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:55 562 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:55 562 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 24
[20130627 13:27:55 565 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:55 565 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:55 565 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:55 565 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:55 566 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:55 566 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:55 566 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:55 566 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:55 566 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:55 566 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:55 566 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:55 567 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:55 567 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:55 567 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:55 567 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:55 567 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:55 567 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:55 567 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f649f6f51002f"}}"
[20130627 13:27:55 577 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:30:10 GMT[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:55 578 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:30:10 GMT
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:55 579 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:55 579 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:55 579 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:27:55 580 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:27:55 580 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:55 580 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:55 580 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:55 580 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:55 580 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:55 580 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:55 580 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:55 581 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:55 581 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:55 581 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53575<->192.168.0.151:80 closed
[20130627 13:27:55 581 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 13:27:56 108 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f649f6f51002f' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:27:56 110 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f649f6f51002f' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:27:56 114 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f649f6f51002f","price":45.00,"title":"45454","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 13:27:56 146 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:56 147 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:27:56 176 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 29
[20130627 13:27:56 177 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f649f6f51002f in solr
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:27:56 178 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:27:56 180 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:27:56 180 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:27:56 180 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:27:56 180 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:27:56 180 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:27:56 180 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:27:56 181 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:27:56 181 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:27:56 181 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:27:56 181 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:27:56 181 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:27:56 181 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f649f6f51002f"}}"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:30:11 GMT[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:56 190 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:30:11 GMT
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:27:56 190 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:27:56 191 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:27:56 191 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:27:56 191 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:56 191 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:27:56 191 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:27:56 191 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53577<->192.168.0.151:80 closed
[20130627 13:27:56 191 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 13:28:01 859 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7f36ff8e0030' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:28:01 861 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7f36ff8e0030' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:28:01 866 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7f36ff8e0030","price":12.00,"selectedCandidate":"402880173f0e6534013f132abfd40026","title":"超过改革","userId":"402880173f07abcf013f0dc98e020048"}
[20130627 13:28:01 890 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:28:01 890 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:28:01 915 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 25
[20130627 13:28:01 980 DEBUG] cn.zthz.tool.message.RMessageService - insert into RMessage (rid, uid, message,rowId, t, createTime ,status ) values('402880173f5f53be013f7f36ff8e0030','402880173f0e6534013f132abfd40026','超过改革已经关闭！','402880ff3f84197c013f841a46bc0001',15,'2013-06-27 13:28:01.98',1)
[20130627 13:28:02 018 DEBUG] javapns.notification.Payload - Adding alert [超过改革已经关闭！]
[20130627 13:28:02 019 DEBUG] javapns.notification.Payload - Adding sound [default]
[20130627 13:28:02 019 DEBUG] javapns.notification.Payload - Adding custom Dictionary [t] = [15]
[20130627 13:28:02 019 DEBUG] javapns.notification.Payload - Adding custom Dictionary [mid] = [1433]
[20130627 13:28:02 020 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7f36ff8e0030 in solr
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:28:02 021 DEBUG] javapns.notification.PushNotificationManager - Building Raw message from deviceToken and payload
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:28:02 021 DEBUG] javapns.notification.PushNotificationManager - Built raw message ID 16777217 of total length 128
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:28:02 021 DEBUG] javapns.notification.PushNotificationManager - Attempting to send notification: {"t":15,"aps":{"sound":"default","alert":"超过改革已经关闭！"},"mid":1433}
[20130627 13:28:02 021 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:28:02 021 DEBUG] javapns.notification.PushNotificationManager -   to device: 5fc7cfc4103b2f8ce75d9b8f1b93e182ade4ba7fd6a49d356e3d55610fdd9831
[20130627 13:28:02 023 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:28:02 023 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:28:02 023 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:28:02 023 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:28:02 024 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:28:02 024 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:28:02 024 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:28:02 024 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:28:02 024 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:28:02 024 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:28:02 024 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:28:02 024 INFO ] javapns.notification.PushNotificationManager - Attempt failed (Remote host closed connection during handshake)... trying again
[20130627 13:28:02 024 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7f36ff8e0030"}}"
[20130627 13:28:02 025 DEBUG] javapns.communication.ConnectionToAppleServer - Creating SSLSocket to gateway.push.apple.com:2195
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:30:16 GMT[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:28:02 035 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:30:16 GMT
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:28:02 035 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:28:02 036 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:28:02 036 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:28:02 036 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:28:02 036 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:28:02 036 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:28:02 036 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53580<->192.168.0.151:80 closed
[20130627 13:28:02 036 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 13:28:02 285 DEBUG] javapns.notification.PushNotificationManager - Attempting to send notification: {"t":15,"aps":{"sound":"default","alert":"超过改革已经关闭！"},"mid":1433}
[20130627 13:28:02 285 DEBUG] javapns.notification.PushNotificationManager -   to device: 5fc7cfc4103b2f8ce75d9b8f1b93e182ade4ba7fd6a49d356e3d55610fdd9831
[20130627 13:28:03 120 DEBUG] javapns.notification.PushNotificationManager - Flushing
[20130627 13:28:03 120 DEBUG] javapns.notification.PushNotificationManager - At this point, the entire 128-bytes message has been streamed out successfully through the SSL connection
[20130627 13:28:03 120 DEBUG] javapns.notification.PushNotificationManager - Notification sent on second attempt
[20130627 13:30:32 181 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:32 181 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:32 202 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 20
[20130627 13:30:42 021 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f2865d64b002f' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:30:42 030 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f27e5a9013f2865d64b002f' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:30:42 034 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f27e5a9013f2865d64b002f","price":1.00,"selectedCandidate":"402880173f07abcf013f08b040590034","title":"ghhh","userId":"402880173f0e6534013f12105e660001"}
[20130627 13:30:42 105 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:42 105 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:42 108 DEBUG] cn.zthz.tool.message.RMessageService - insert into RMessage (rid, uid, message,rowId, t, createTime ,status ) values('402880173f27e5a9013f2865d64b002f','402880173f07abcf013f08b040590034','ghhh已经关闭！','402880ff3f84197c013f841cb83c0002',15,'2013-06-27 13:30:42.108',1)
[20130627 13:30:42 124 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 19
[20130627 13:30:42 132 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.connection.timeout = 60000
[20130627 13:30:42 133 DEBUG] org.apache.commons.httpclient.params.DefaultHttpParams - Set parameter http.connection-manager.max-per-host = {HostConfiguration[]=1200}
[20130627 13:30:42 137 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:30:42 138 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.clearRequestBody()
[20130627 13:30:42 138 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.clearRequestBody()
[20130627 13:30:42 138 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HttpMethod)
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.HttpClient - enter HttpClient.executeMethod(HostConfiguration,HttpMethod,HttpState)
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.getConnectionWithTimeout(HostConfiguration, long)
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - HttpConnectionManager.getConnection:  config = HostConfiguration[host=http://sdk.open.api.igexin.com], timeout = 0
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:30:42 139 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Allocating new connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:30:42 140 DEBUG] org.apache.commons.httpclient.HttpMethodDirector - Attempt number 1 to process request
[20130627 13:30:42 140 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.open()
[20130627 13:30:42 140 DEBUG] org.apache.commons.httpclient.HttpConnection - Open connection to sdk.open.api.igexin.com:80
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.execute(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequest(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestLine(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.generateRequestLine(HttpConnection, String, String, String, String)
[20130627 13:30:42 193 DEBUG] httpclient.wire.header - >> "POST /apiex.htm HTTP/1.1[\r][\n]"
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.writeRequestHeaders(HttpState,HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.methods.ExpectContinueMethod - enter ExpectContinueMethod.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addRequestHeaders(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addUserAgentRequestHeaders(HttpState, HttpConnection)
[20130627 13:30:42 193 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addHostRequestHeader(HttpState, HttpConnection)
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Adding Host request header
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addCookieRequestHeader(HttpState, HttpConnection)
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpState - enter HttpState.getCookies()
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.cookie.CookieSpec - enter CookieSpecBase.match(String, int, String, boolean, Cookie[])
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.addProxyConnectionHeader(HttpState, HttpConnection)
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.addContentLengthRequestHeader(HttpState, HttpConnection)
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpMethodBase - HttpMethodBase.addRequestHeader(Header)
[20130627 13:30:42 194 DEBUG] httpclient.wire.header - >> "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:30:42 194 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 195 DEBUG] httpclient.wire.header - >> "User-Agent: Jakarta Commons-HttpClient/3.1[\r][\n]"
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 195 DEBUG] httpclient.wire.header - >> "Host: sdk.open.api.igexin.com[\r][\n]"
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 195 DEBUG] httpclient.wire.header - >> "Content-Length: 506[\r][\n]"
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.print(String)
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.writeLine()
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[])
[20130627 13:30:42 195 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.write(byte[], int, int)
[20130627 13:30:42 195 DEBUG] httpclient.wire.header - >> "[\r][\n]"
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.writeRequestBody(HttpState, HttpConnection)
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.getRequestContentLength()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.PostMethod - enter PostMethod.hasRequestContent()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - enter EntityEnclosingMethod.hasRequestContent()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getRequestOutputStream()
[20130627 13:30:42 196 DEBUG] httpclient.wire.content - >> "{"appId":"o94ymOAtzV74lbC6I3V6a","isOffline":true,"appkey":"RQA0RdthPhA743m0n0Y6Q5","action":"pushMessageToSingleAction","pushType":"TransmissionMsg","offlineExpireTime":0,"type":2,"clientId":"7f058718f0a9a33f9f256b91b911fe80","transmissionContent":"{\"alert\":\"ghhh[0xe5][0xb7][0xb2][0xe7][0xbb][0x8f][0xe5][0x85][0xb3][0xe9][0x97][0xad][0xef][0xbc][0x81]\",\"attach\":{\"mid\":1434,\"t\":15}}","clientData":"CgASC3B1c2htZXNzYWdlGgAiFlJRQTBSZHRoUGhBNzQzbTBuMFk2UTUqFW85NHltT0F0elY3NGxi\r\nQzZJM1Y2YTIAOggKABIAGgAiAEIHCAEQABiuTkIZCK5OEAMYZOIIAOoIBgoAEgAaAPAIAPgIZEIE\r\nCGQQBw=="}"
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.methods.EntityEnclosingMethod - Request body sent
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.flushRequestOutputStream()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponse(HttpState, HttpConnection)
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readStatusLine(HttpState, HttpConnection)
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.readLine()
[20130627 13:30:42 196 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 197 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 234 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:30:42 234 DEBUG] httpclient.wire.header - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:30:42 234 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseHeaders(HttpState,HttpConnection)
[20130627 13:30:42 234 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:30:42 234 DEBUG] org.apache.commons.httpclient.HttpParser - enter HeaderParser.parseHeaders(InputStream, String)
[20130627 13:30:42 234 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 234 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 234 DEBUG] httpclient.wire.header - << "Server: nginx/1.0.5[\r][\n]"
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 235 DEBUG] httpclient.wire.header - << "Date: Thu, 27 Jun 2013 05:30:46 GMT[\r][\n]"
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 235 DEBUG] httpclient.wire.header - << "Content-Type: text/html;charset=UTF-8[\r][\n]"
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 235 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 236 DEBUG] httpclient.wire.header - << "Connection: keep-alive[\r][\n]"
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 236 DEBUG] httpclient.wire.header - << "Content-Language: en-US[\r][\n]"
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 236 DEBUG] httpclient.wire.header - << "Content-Length: 86[\r][\n]"
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readLine(InputStream, String)
[20130627 13:30:42 236 DEBUG] org.apache.commons.httpclient.HttpParser - enter HttpParser.readRawLine()
[20130627 13:30:42 237 DEBUG] httpclient.wire.header - << "[\r][\n]"
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processResponseHeaders(HttpState, HttpConnection)
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.processCookieHeaders(Header[], HttpState, HttpConnection)
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpState, HttpConnection)
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.readResponseBody(HttpConnection)
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.getResponseInputStream()
[20130627 13:30:42 237 DEBUG] org.apache.commons.httpclient.HttpMethodBase - enter HttpMethodBase.canResponseHaveBody(int)
[20130627 13:30:42 237 DEBUG] httpclient.wire.content - << "{"taskId":"OSS-0627_7RhkSxGphI8arYFvcifud8","result":"ok","status":"successed_online"}"
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.HttpMethodBase - Should NOT close connection in response to directive: keep-alive
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.isResponseAvailable()
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.HttpConnection - enter HttpConnection.releaseConnection()
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.HttpConnection - Releasing connection back to connection manager.
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.releaseConnection(HttpConnection)
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Freeing connection, hostConfig=HostConfiguration[host=http://sdk.open.api.igexin.com]
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - enter HttpConnectionManager.ConnectionPool.getHostPool(HostConfiguration)
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.util.IdleConnectionHandler - Adding connection at: 1372311042238
[20130627 13:30:42 238 DEBUG] org.apache.commons.httpclient.MultiThreadedHttpConnectionManager - Notifying no-one, there are no waiting threads
[20130627 13:30:42 240 INFO ] cn.zthz.tool.push.AndroidJPush - {taskId=OSS-0627_7RhkSxGphI8arYFvcifud8, result=ok, status=successed_online}
[20130627 13:30:42 240 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f27e5a9013f2865d64b002f in solr
[20130627 13:30:42 242 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:30:42 242 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:30:42 242 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:30:42 242 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:30:42 242 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:30:42 243 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:30:42 246 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:30:42 246 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:30:42 246 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:30:42 246 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:30:42 246 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:30:42 246 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:30:42 246 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:30:42 247 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:30:42 247 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:30:42 247 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:30:42 248 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:30:42 248 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:30:42 248 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f27e5a9013f2865d64b002f"}}"
[20130627 13:30:42 258 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:30:42 258 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:30:42 258 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:32:57 GMT[\r][\n]"
[20130627 13:30:42 259 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:30:42 259 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:30:42 259 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:30:42 259 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:30:42 259 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:30:42 259 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:30:42 259 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:30:42 260 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:32:57 GMT
[20130627 13:30:42 260 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:30:42 260 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:30:42 260 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:30:42 260 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:30:42 260 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:30:42 260 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":4}}[\n]"
[20130627 13:30:42 261 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:30:42 261 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:30:42 261 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:30:42 261 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:30:42 261 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:30:42 261 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:30:42 261 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:30:42 261 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:30:42 262 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:30:42 262 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53609<->192.168.0.151:80 closed
[20130627 13:30:42 262 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":4}}

[20130627 13:30:44 397 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:44 398 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:30:44 419 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 21
[20130627 13:31:24 661 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:31:24 662 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:31:24 679 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 16
[20130627 13:33:50 034 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:33:50 035 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:33:50 070 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 35
[20130627 13:34:07 403 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:07 404 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:07 423 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 19
[20130627 13:34:25 476 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:25 477 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:25 502 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 25
[20130627 13:34:26 235 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:26 236 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:26 256 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 20
[20130627 13:34:26 908 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 60,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:26 908 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 60,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:26 933 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 25
[20130627 13:34:27 628 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 80,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:27 628 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 80,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:27 653 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 25
[20130627 13:34:28 320 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 100,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:28 321 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 100,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:28 333 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 12
[20130627 13:34:32 433 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 80,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:32 434 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 80,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:34:32 457 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 23
[20130627 13:35:58 846 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:35:58 855 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:35:58 855 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 856 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:35:58 887 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 32
[20130627 13:36:01 246 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:36:01 248 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:36:01 252 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 13:36:01 270 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:01 270 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:01 288 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 13:36:01 289 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 19
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:36:01 290 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:36:01 293 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:36:01 294 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:36:01 294 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:36:01 294 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:36:01 294 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:36:01 294 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:36:01 294 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:36:01 294 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:36:01 294 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:36:01 294 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:36:01 295 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:36:01 295 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:36:01 295 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:36:01 295 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:36:01 295 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:36:01 295 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:36:01 295 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:36:01 295 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 13:36:01 307 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:36:01 308 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:36:01 308 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:38:16 GMT[\r][\n]"
[20130627 13:36:01 308 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:36:01 308 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:36:01 309 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:36:01 309 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:01 309 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:38:16 GMT
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:36:01 309 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:36:01 309 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:36:01 310 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:36:01 310 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":4}}[\n]"
[20130627 13:36:01 310 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:01 310 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:36:01 310 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:01 310 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:36:01 310 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:36:01 310 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:36:01 310 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:36:01 310 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:36:01 311 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:36:01 311 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53777<->192.168.0.151:80 closed
[20130627 13:36:01 311 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":4}}

[20130627 13:36:02 688 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:36:02 690 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:36:02 694 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 13:36:02 712 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:02 712 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:02 727 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 13:36:02 729 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:36:02 729 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 17
[20130627 13:36:02 729 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:36:02 729 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:36:02 729 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:36:02 729 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:36:02 730 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:36:02 732 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:36:02 732 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:36:02 732 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:36:02 732 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:36:02 732 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:36:02 733 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:36:02 733 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:36:02 734 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:36:02 734 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:36:02 734 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:36:02 734 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:36:02 734 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 13:36:02 743 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:36:02 743 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:36:02 743 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:38:17 GMT[\r][\n]"
[20130627 13:36:02 743 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:36:02 743 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:36:02 744 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:36:02 744 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:02 744 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:38:17 GMT
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:36:02 744 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:36:02 745 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:36:02 745 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:36:02 745 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:36:02 745 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:02 745 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:36:02 745 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:36:02 745 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:36:02 746 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53779<->192.168.0.151:80 closed
[20130627 13:36:02 746 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 13:36:08 419 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:08 419 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:08 436 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 17
[20130627 13:36:20 916 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:20 916 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 40,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:20 932 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 16
[20130627 13:36:24 105 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f27e5a9013f285079860022' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:36:24 107 ERROR] cn.zthz.tool.requirement.RequirementOperations - ownerId:402880173f07abcf013f08a0f039002c selectedCandidate:null requirementId:402880173f27e5a9013f285079860022 status:[0, 1] not consistent!
[20130627 13:36:25 257 ERROR] cn.zthz.tool.requirement.RequirementOperations - requirementId:402880173f27e5a9013f285079860022
userId:402880173f07abcf013f08a0f039002c
cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:582)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:721)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
[20130627 13:36:25 331 ERROR] cn.zthz.actor.rest.UserRequirementRest - requestParams:{
	"requirementId":["402880173f27e5a9013f285079860022"],
	"userId":["402880173f07abcf013f08a0f039002c"],
	"userToken":["6e81794ff185450e9efd41c03f6d18d8"]
}
cn.zthz.tool.requirement.UserRequirementException: selectCandidate failed!
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:763)
	at cn.zthz.actor.rest.UserRequirementRest.closeRequirement(UserRequirementRest.java:797)
	at cn.zthz.actor.rest.UserRequirementRestMethodAccess.invoke(Unknown Source)
	at qileke.jer.server.Actor.act(Actor.java:44)
	at qileke.jer.server.Invoke.invoke(Invoke.java:64)
	at qileke.jer.server.SyncHandler.doHandle(SyncHandler.java:143)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:196)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
	at org.eclipse.jetty.server.Server.handle(Server.java:351)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:451)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:931)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:857)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:611)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)
	at java.lang.Thread.run(Unknown Source)
Caused by: cn.zthz.tool.requirement.UserRequirementException: the requirement data not consistent
	at cn.zthz.tool.requirement.RequirementOperations.checkUserRequirement(RequirementOperations.java:582)
	at cn.zthz.tool.requirement.RequirementOperations.close(RequirementOperations.java:721)
	... 19 more
[20130627 13:36:25 400 WARN ] qileke.jer.server.SyncHandler - pass this error,selectCandidate failed!
[20130627 13:36:56 253 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:56 253 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:36:56 276 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 23
[20130627 13:37:14 437 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:14 438 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:14 464 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 26
[20130627 13:37:16 864 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:16 865 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:16 881 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 16
[20130627 13:37:18 773 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select count(*) from Requirement where id='402880173f5f53be013f7fb70a62004b' and userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100) and status in (0,1)
[20130627 13:37:18 776 DEBUG] cn.zthz.tool.requirement.RequirementOperations - update Requirement set status=3 where id='402880173f5f53be013f7fb70a62004b' and (userId='402880173f07abcf013f08a0f039002c' or 0<(select count(*) from User where id='402880173f07abcf013f08a0f039002c' and type>=100))
[20130627 13:37:18 780 INFO ] cn.zthz.actor.message.RequirementPushor - send close message:{"hasMandate":false,"id":"402880173f5f53be013f7fb70a62004b","price":123.00,"title":"432","userId":"402880173f07abcf013f08a0f039002c"}
[20130627 13:37:18 881 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:18 882 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 0,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 13:37:18 893 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement with id:402880173f5f53be013f7fb70a62004b in solr
[20130627 13:37:18 895 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Get connection: {}->http://192.168.0.151, timeout = 0
[20130627 13:37:18 895 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - [{}->http://192.168.0.151] total kept alive: 0, total issued: 0, total allocated: 0 out of 20
[20130627 13:37:18 895 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - No free connections [{}->http://192.168.0.151][null]
[20130627 13:37:18 895 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Available capacity: 2 out of 2 [{}->http://192.168.0.151][null]
[20130627 13:37:18 895 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Creating new connection [{}->http://192.168.0.151]
[20130627 13:37:18 896 DEBUG] org.apache.http.impl.conn.DefaultClientConnectionOperator - Connecting to 192.168.0.151:80
[20130627 13:37:18 907 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 25
[20130627 13:37:18 907 DEBUG] org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: best-match
[20130627 13:37:18 907 DEBUG] org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
[20130627 13:37:18 908 DEBUG] org.apache.http.client.protocol.RequestTargetAuthentication - Target auth state: UNCHALLENGED
[20130627 13:37:18 908 DEBUG] org.apache.http.client.protocol.RequestProxyAuthentication - Proxy auth state: UNCHALLENGED
[20130627 13:37:18 908 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Attempt 1 to execute request
[20130627 13:37:18 908 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Sending request: POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:37:18 908 DEBUG] org.apache.http.wire - >> "POST /solr/requirement/update?commit=true HTTP/1.1[\r][\n]"
[20130627 13:37:18 908 DEBUG] org.apache.http.wire - >> "Content-Length: 52[\r][\n]"
[20130627 13:37:18 908 DEBUG] org.apache.http.wire - >> "Content-Type: application/json; charset=UTF-8[\r][\n]"
[20130627 13:37:18 908 DEBUG] org.apache.http.wire - >> "Host: 192.168.0.151[\r][\n]"
[20130627 13:37:18 909 DEBUG] org.apache.http.wire - >> "Connection: Keep-Alive[\r][\n]"
[20130627 13:37:18 909 DEBUG] org.apache.http.wire - >> "[\r][\n]"
[20130627 13:37:18 909 DEBUG] org.apache.http.headers - >> POST /solr/requirement/update?commit=true HTTP/1.1
[20130627 13:37:18 909 DEBUG] org.apache.http.headers - >> Content-Length: 52
[20130627 13:37:18 909 DEBUG] org.apache.http.headers - >> Content-Type: application/json; charset=UTF-8
[20130627 13:37:18 909 DEBUG] org.apache.http.headers - >> Host: 192.168.0.151
[20130627 13:37:18 909 DEBUG] org.apache.http.headers - >> Connection: Keep-Alive
[20130627 13:37:18 909 DEBUG] org.apache.http.wire - >> "{"delete":{"id":"402880173f5f53be013f7fb70a62004b"}}"
[20130627 13:37:18 920 DEBUG] org.apache.http.wire - << "HTTP/1.1 200 OK[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "Server: nginx/1.2.6[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "Date: Thu, 27 Jun 2013 05:39:33 GMT[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "Content-Type: application/json;charset=UTF-8[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "Transfer-Encoding: chunked[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "Connection: keep-alive[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:37:18 921 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Receiving response: HTTP/1.1 200 OK
[20130627 13:37:18 921 DEBUG] org.apache.http.headers - << HTTP/1.1 200 OK
[20130627 13:37:18 922 DEBUG] org.apache.http.headers - << Server: nginx/1.2.6
[20130627 13:37:18 922 DEBUG] org.apache.http.headers - << Date: Thu, 27 Jun 2013 05:39:33 GMT
[20130627 13:37:18 922 DEBUG] org.apache.http.headers - << Content-Type: application/json;charset=UTF-8
[20130627 13:37:18 922 DEBUG] org.apache.http.headers - << Transfer-Encoding: chunked
[20130627 13:37:18 922 DEBUG] org.apache.http.headers - << Connection: keep-alive
[20130627 13:37:18 922 DEBUG] org.apache.http.impl.client.DefaultHttpClient - Connection can be kept alive indefinitely
[20130627 13:37:18 922 DEBUG] org.apache.http.wire - << "2a[\r][\n]"
[20130627 13:37:18 922 DEBUG] org.apache.http.wire - << "{"responseHeader":{"status":0,"QTime":5}}[\n]"
[20130627 13:37:18 923 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:37:18 923 DEBUG] org.apache.http.wire - << "0[\r][\n]"
[20130627 13:37:18 923 DEBUG] org.apache.http.wire - << "[\r][\n]"
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Released connection is reusable.
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Releasing connection [{}->http://192.168.0.151][null]
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Pooling connection [{}->http://192.168.0.151][null]; keep alive indefinitely
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Notifying no-one, there are no waiting threads
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager - Shutting down
[20130627 13:37:18 923 DEBUG] org.apache.http.impl.conn.tsccm.ConnPoolByRoute - Closing connection [{}->http://192.168.0.151][null]
[20130627 13:37:18 924 DEBUG] org.apache.http.impl.conn.DefaultClientConnection - Connection 0.0.0.0:53820<->192.168.0.151:80 closed
[20130627 13:37:18 924 INFO ] cn.zthz.actor.solr.SolrUpdater - delete requirement response:{"responseHeader":{"status":0,"QTime":5}}

[20130627 14:00:00 025 INFO ] cn.zthz.actor.solr.ReimportScheduler - reimport requirement and user index
[20130627 14:00:00 166 INFO ] cn.zthz.actor.solr.ReimportScheduler - {"responseHeader":{"status":0,"QTime":7},"initArgs":["defaults",["config","data-config.xml"]],"command":"full-import","status":"idle","importResponse":"","statusMessages":{"Total Requests made to DataSource":"16","Total Rows Fetched":"30","Total Documents Skipped":"0","Full Dump Started":"2013-06-27 14:00:00","":"Indexing completed. Added/Updated: 15 documents. Deleted 0 documents.","Committed":"2013-06-27 14:00:00","Optimized":"2013-06-27 14:00:00","Total Documents Processed":"15","Time taken":"0:0:0.652"},"WARNING":"This response format is experimental.  It is likely to change in the future."}

[20130627 14:00:00 167 INFO ] cn.zthz.actor.solr.ReimportScheduler - {"responseHeader":{"status":0,"QTime":6},"initArgs":["defaults",["config","data-config.xml"]],"command":"full-import","status":"idle","importResponse":"","statusMessages":{"Total Requests made to DataSource":"1","Total Rows Fetched":"29","Total Documents Skipped":"0","Full Dump Started":"2013-06-27 14:00:00","":"Indexing completed. Added/Updated: 29 documents. Deleted 0 documents.","Committed":"2013-06-27 14:00:00","Optimized":"2013-06-27 14:00:00","Total Documents Processed":"29","Time taken":"0:0:0.627"},"WARNING":"This response format is experimental.  It is likely to change in the future."}

[20130627 14:17:05 114 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 14:17:05 115 DEBUG] cn.zthz.tool.requirement.RequirementOperations - select r.id, r.type,r.title,r.hasMandate, r.price, r.expire, r.viewCount, r.userId, r.longitude, r.latitude, r.selectedCandidate , r.createTime, r.mainPictureSmall,r.mainPictureMid, r.mainPictureBig, r.status, u.name as userName , u.mainPicture as userPicture, u.mainPictureSmall as userPictureSmall ,u.mainPictureMid as userPictureMid ,u.mainPictureBig as userPictureBig ,u.credit as userCredit,  u.completeScore ,r.mainPicture, r.mainPictureSmall, r.mainPictureMid, r.mainPictureBig, (select count(userId) from RequirementCandidate rc where r.id=rc.requirementId ) as applyCount from (select * from Requirement ri where 1=1  order by ri.pri desc, ri.createTime desc ,ri.viewCount desc limit 20,20) r left join User u on r.userId=u.id order by r.pri desc, r.createTime desc ,r.viewCount desc 
[20130627 14:17:05 151 DEBUG] cn.zthz.tool.requirement.RequirementOperations - -------------------estimated Time3---------------------: 36
[20130627 16:00:00 001 INFO ] cn.zthz.actor.solr.ReimportScheduler - reimport requirement and user index
[20130627 16:00:00 027 INFO ] cn.zthz.actor.solr.ReimportScheduler - {"responseHeader":{"status":0,"QTime":7},"initArgs":["defaults",["config","data-config.xml"]],"command":"full-import","status":"idle","importResponse":"","statusMessages":{"Total Requests made to DataSource":"16","Total Rows Fetched":"30","Total Documents Skipped":"0","Full Dump Started":"2013-06-27 16:00:00","":"Indexing completed. Added/Updated: 15 documents. Deleted 0 documents.","Committed":"2013-06-27 16:00:00","Optimized":"2013-06-27 16:00:00","Total Documents Processed":"15","Time taken":"0:0:0.668"},"WARNING":"This response format is experimental.  It is likely to change in the future."}

[20130627 16:00:00 027 INFO ] cn.zthz.actor.solr.ReimportScheduler - {"responseHeader":{"status":0,"QTime":6},"initArgs":["defaults",["config","data-config.xml"]],"command":"full-import","status":"idle","importResponse":"","statusMessages":{"Total Requests made to DataSource":"1","Total Rows Fetched":"29","Total Documents Skipped":"0","Full Dump Started":"2013-06-27 16:00:00","":"Indexing completed. Added/Updated: 29 documents. Deleted 0 documents.","Committed":"2013-06-27 16:00:00","Optimized":"2013-06-27 16:00:00","Total Documents Processed":"29","Time taken":"0:0:0.668"},"WARNING":"This response format is experimental.  It is likely to change in the future."}

